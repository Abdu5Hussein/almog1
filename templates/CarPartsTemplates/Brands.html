{% extends 'CarPartsTemplates/base.html' %}

    {% block title %} المنتجات{% endblock %}
    
    {% block content %}
    {% load static %}
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Bootstrap RTL -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  
  <!-- Custom CSS -->

  <link rel="stylesheet" href="{% static 'hozma/css/brandstyle.css' %}">
 
</head>
<body>


  <!-- Main Content -->
  <div class="container my-5">
   <div class="header-section mb-5">
     <h2><i class="bi bi-tags me-2"></i> الماركات المتوفرة</h2>
     <p class="text-muted mt-2">اختر ماركة لرؤية جميع المنتجات المتوفرة لديها</p>
   </div>

   <div class="container">
    <div class="row g-4" id="brands-container">
      <!-- Dynamic brand cards will be inserted here -->
    </div>
  </div>
  
  <script>
    const container = document.getElementById('brands-container');
    const apiUrl = 'http://45.13.59.226/api/main-types/';
  
    // Fetch the data from the API
    fetch(apiUrl)
      .then(response => response.json())
      .then(data => {
        const brands = data.main_types;
  
        brands.forEach(brand => {
          const col = document.createElement('div');
          col.className = 'col-lg-3 col-md-4 col-6';
  
          col.innerHTML = `
            <div class="brand-card h-100">
              <div class="card-body text-center">
                
                <img src="http://45.13.59.226${brand.logo_obj}" class="img-fluid mb-3" alt="${brand.typename} Logo">
                <h5 class="card-title">${brand.typename}</h5>
                <p class="text-muted small mb-3">قطع غيار متنوعة</p>
                <a href="/hozma/brand/${encodeURIComponent(brand.typename)}/" class="btn">
  <i class="bi bi-eye me-1"></i> تصفح المنتجات
</a>

              </div>
            </div>
          `;
  
          container.appendChild(col);
        });
      })
      .catch(error => {
        console.error('Error fetching brand data:', error);
        container.innerHTML = '<p class="text-danger text-center">فشل في تحميل البيانات.</p>';
      });
  </script>
  
 </div>


  {% endblock %}
    
    {% block extra_js %}
  <!-- JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/js/bootstrap-select.min.js"></script>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>




  
  {% endblock %}