{% extends 'CarPartsTemplates/base.html' %}

{% block title %}Ø§ØªØµÙ„ Ø¨Ù†Ø§ - Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ{% endblock %}

{% block content %}
{% load static %}
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø§ØªØµÙ„ Ø¨Ù†Ø§ - Ù…ØªØ¬Ø± Ù‚Ø·Ø¹ ØºÙŠØ§Ø± Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</title>
  
  <!-- Bootstrap RTL -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="{% static 'hozma/css/navbar.css' %}">
  <link rel="stylesheet" href="{% static 'hozma/css/itemstyle.css' %}">
  <link rel="stylesheet" href="{% static 'hozma/css/brandstyle.css' %}">
  <style>
    /* Enhanced Contact Page Styles */
    .contact-page-header {
      background: linear-gradient(135deg, #0F1B2E 0%, #1A2A40 100%);
      color: white;
      padding: 1.5rem 0;
      margin-bottom: 2rem;
      border-bottom: 3px solid #FF6B00;
    }

    .contact-page-title {
      font-family: 'Tajawal', sans-serif;
      font-weight: 700;
      font-size: 1.75rem;
      line-height: 1.2;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      position: relative;
    }

    .contact-page-title i {
      color: #FFD700;
      font-size: 1.75rem;
    }

    .contact-page-title:after {
      content: "";
      position: absolute;
      bottom: -8px;
      right: 0;
      width: 60px;
      height: 3px;
      background: #FF6B00;
    }

    .contact-page-header p {
      font-size: 1.05rem;
      margin-top: 0.5rem;
    }

    .contact-card {
      border: 1px solid #e0e0e0;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 15px rgba(0,0,0,0.05);
      transition: all 0.3s ease;
      height: 100%;
      background-color: #fff;
    }

    .contact-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }

    .contact-card-header {
      background: linear-gradient(135deg, #FF6B00 0%, #FF8C00 100%);
      color: white;
      padding: 15px;
      text-align: center;
      font-weight: 700;
    }

    .contact-card-body {
      padding: 20px;
    }

    .contact-icon {
      font-size: 2.5rem;
      color: #FF6B00;
      margin-bottom: 15px;
    }

    .contact-info {
      margin-bottom: 15px;
    }

    .contact-info strong {
      color: #0F1B2E;
      display: block;
      margin-bottom: 5px;
    }

    .contact-info a {
      color: #1A2A40;
      text-decoration: none;
      transition: color 0.3s;
    }

    .contact-info a:hover {
      color: #FF6B00;
    }

    .contact-form-container {
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 15px rgba(0,0,0,0.1);
      padding: 25px;
      border: 1px solid #e0e0e0;
    }

    .form-label {
      font-weight: 600;
      color: #0F1B2E;
    }

    .form-control, .form-select {
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 10px 15px;
      transition: all 0.3s;
    }

    .form-control:focus, .form-select:focus {
      border-color: #FF6B00;
      box-shadow: 0 0 0 0.25rem rgba(255, 107, 0, 0.25);
    }

    .submit-btn {
      background: linear-gradient(135deg, #FF6B00 0%, #FF8C00 100%);
      border: none;
      padding: 12px 25px;
      font-weight: bold;
      transition: all 0.3s;
      width: 100%;
    }

    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(255,107,0,0.3);
    }

    .working-hours {
      background-color: #f8f9fa;
      border-radius: 8px;
      padding: 15px;
      margin-top: 20px;
    }

    .working-hours h5 {
      color: #0F1B2E;
      border-bottom: 1px solid #eee;
      padding-bottom: 10px;
      margin-bottom: 15px;
    }

    .hours-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid #eee;
    }

    .hours-item:last-child {
      border-bottom: none;
    }

    .map-container {
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 15px rgba(0,0,0,0.1);
      border: 1px solid #e0e0e0;
      height: 100%;
    }

    .map-container iframe {
      width: 100%;
      height: 100%;
      min-height: 300px;
      border: none;
    }

    .social-links {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
    }

    .social-link {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.2rem;
      transition: all 0.3s;
    }

    .social-link:hover {
      transform: translateY(-3px);
    }

    .whatsapp { background-color: #25D366; }
    .facebook { background-color: #3b5998; }
    .instagram { background-color: #E1306C; }
    .twitter { background-color: #1DA1F2; }
    .youtube { background-color: #FF0000; }

    .faq-item {
      margin-bottom: 15px;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      overflow: hidden;
    }

    .faq-header {
      background-color: #f8f9fa;
      padding: 15px;
      cursor: pointer;
      font-weight: 600;
      color: #0F1B2E;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .faq-header:hover {
      background-color: #e9ecef;
    }

    .faq-body {
      padding: 15px;
      background-color: #fff;
      border-top: 1px solid #e0e0e0;
    }

    @media (max-width: 768px) {
      .contact-page-title {
        font-size: 1.5rem;
      }
      
      .contact-card {
        margin-bottom: 20px;
      }
    }
  </style>
</head>
<body>
  <!-- Contact Header -->
  <div class="contact-page-header text-center py-4 mb-4">
    <div class="container">
      <h1 class="contact-page-title">
        <i class="bi bi-headset"></i>
        Ù…Ø±ÙƒØ² Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„Ø§ØªØµØ§Ù„
      </h1>
      <p class="mt-2">Ù†Ø­Ù† Ù‡Ù†Ø§ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø± Ø£Ùˆ Ø¯Ø¹Ù… ÙÙ†ÙŠ ØªØ­ØªØ§Ø¬Ù‡</p>
    </div>
  </div>

  <div class="container mb-5">
    <div class="row g-4">
      <!-- Contact Methods -->
      <div class="col-md-4">
        <div class="contact-card">
          <div class="contact-card-header">
            <i class="bi bi-telephone"></i> Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ù‡Ø§ØªÙÙŠ
          </div>
          <div class="contact-card-body text-center">
            <div class="contact-icon">
              <i class="bi bi-telephone-outbound"></i>
            </div>
            <div class="contact-info">
              <strong>Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</strong>
              <a href="tel:+966123456789"> +218914262604</a>
            </div>
            <div class="contact-info">
              <strong>Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ</strong>
              <a href="tel:+966987654321"> +218914262604</a>
            </div>
            <div class="working-hours">
              <h5>Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„</h5>
              <div class="hours-item">
                <span>Ø§Ù„Ø£Ø­Ø¯ - Ø§Ù„Ø®Ù…ÙŠØ³</span>
                <span>8 Øµ - 5 Ù…</span>
              </div>
              <div class="hours-item">
                <span>Ø§Ù„Ø¬Ù…Ø¹Ø© - Ø§Ù„Ø³Ø¨Øª</span>
                <span>Ø¥Ø¬Ø§Ø²Ø©</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="contact-card">
          <div class="contact-card-header">
            <i class="bi bi-envelope"></i> Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
          </div>
          <div class="contact-card-body text-center">
            <div class="contact-icon">
              <i class="bi bi-envelope-open"></i>
            </div>
            <div class="contact-info">
              <strong>Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</strong>
              <a href="mailto:info@autoparts.com">info@marin.ly</a>
            </div>
            <div class="contact-info">
              <strong>Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ</strong>
              <a href="mailto:support@autoparts.com"> tech@marin.ly</a>
            </div>
            <div class="contact-info">
              <strong>Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙˆØ§Ù„Ø´Ø±Ø§Ø¡</strong>
              <a href="mailto:sales@autoparts.com">sales@marin.ly</a>
            </div>
            <div class="social-links">
              <a href="#" class="social-link whatsapp"><i class="bi bi-whatsapp"></i></a>
              <a href="#" class="social-link facebook"><i class="bi bi-facebook"></i></a>
              <a href="#" class="social-link instagram"><i class="bi bi-instagram"></i></a>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="contact-card">
          <div class="contact-card-header">
            <i class="bi bi-geo-alt"></i> Ø§Ù„Ù…ÙˆÙ‚Ø¹
          </div>
          <div class="contact-card-body text-center">
            <div class="contact-icon">
              <i class="bi bi-pin-map"></i>
            </div>
            <div class="contact-info">
              <strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</strong>
              <span>Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©</span>
            </div>
            <div class="map-container mt-3">
               <iframe 
               src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d11086.944321799463!2d13.143011!3d32.856011!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sly!4v1620000000000!5m2!1sen!2sly" 
              
           
               allowfullscreen="" 
               loading="lazy" 
               referrerpolicy="no-referrer-when-downgrade">
             </iframe>
                         </div>
          </div>
        </div>
      </div>

      <!-- Contact Form -->
      <div class="col-lg-8">
        <div class="contact-form-container">
          <h4 class="mb-4"><i class="bi bi-send"></i> Ø£Ø±Ø³Ù„ Ù„Ù†Ø§ Ø±Ø³Ø§Ù„Ø©</h4>
          <form id="contactForm">
            <div class="row g-3">
              <div class="col-md-6">
                <label for="name" class="form-label">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                <input type="text" class="form-control" id="name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ" required>
              </div>
              <div class="col-md-6">
                <label for="email" class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                <input type="email" class="form-control" id="email" placeholder="Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
              </div>
             
              <div class="col-md-6">
                <label for="subject" class="form-label">Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹</label>
                <select class="form-select" id="subject" required>
                  <option value="" selected disabled>Ø§Ø®ØªØ± Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</option>
                  <option value="Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ">Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ</option>
                  <option value="Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©">Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©</option>
                  <option value="Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª Ø¹Ù† Ù‚Ø·Ø¹ Ø§Ù„ØºÙŠØ§Ø±">Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª Ø¹Ù† Ù‚Ø·Ø¹ Ø§Ù„ØºÙŠØ§Ø±</option>
                  <option value="Ù…ÙˆØ¶ÙˆØ¹ Ø¢Ø®Ø±">Ù…ÙˆØ¶ÙˆØ¹ Ø¢Ø®Ø±</option>
                </select>
              </div>
              <div class="col-12">
                <label for="message" class="form-label">Ø§Ù„Ø±Ø³Ø§Ù„Ø©</label>
                <textarea class="form-control" id="message" rows="5" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§..." required></textarea>
              </div>
              <div class="col-12">
                <button type="submit" class="submit-btn">
                  <i class="bi bi-send-fill"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
                </button>
              </div>
            </div>
          </form>
          <div id="responseMessage" class="mt-3" style="display:none;"></div>
        </div>
      </div>
      

      <!-- FAQ Section -->
      <div class="col-lg-4">
        <div class="contact-form-container">
          <h4 class="mb-4"><i class="bi bi-question-circle"></i> Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©</h4>
          
          
          
          <div class="faq-item">
            <div class="faq-header" data-bs-toggle="collapse" data-bs-target="#faq2">
              Ù…Ø§ Ù‡ÙŠ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹ ÙˆØ§Ù„Ø§Ø³ØªØ¨Ø¯Ø§Ù„ØŸ
              <i class="bi bi-chevron-down"></i>
            </div>
            <div id="faq2" class="collapse faq-body">
              ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø±Ø¬Ø§Ø¹ Ø£Ùˆ Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ù‚Ø·Ø¹ Ø®Ù„Ø§Ù„ 14 ÙŠÙˆÙ…Ù‹Ø§ Ù…Ù† Ø§Ø³ØªÙ„Ø§Ù…Ù‡Ø§ Ø¨Ø´Ø±Ø· Ø£Ù† ØªÙƒÙˆÙ† Ø¨Ø­Ø§Ù„ØªÙ‡Ø§ Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØºÙ„ÙŠÙØ§Øª ÙˆØ§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª.
            </div>
          </div>
          
          <div class="faq-item">
            <div class="faq-header" data-bs-toggle="collapse" data-bs-target="#faq3">
              Ù‡Ù„ ØªÙ‚Ø¯Ù…ÙˆÙ† Ø®Ø¯Ù…Ø© Ø§Ù„ØªÙˆØµÙŠÙ„ Ø¥Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¯Ù†ØŸ
              <i class="bi bi-chevron-down"></i>
            </div>
            <div id="faq3" class="collapse faq-body">
              Ù†Ù‚Ø¯Ù… Ø®Ø¯Ù…Ø© Ø§Ù„ØªÙˆØµÙŠÙ„ Ø¥Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ù…Ø¯Ù† Ù„ÙŠØ¨ÙŠØ§ Ø¹Ø¨Ø± Ù…Ù†Ø¯ÙˆØ¨ÙŠÙ† ØªÙˆØµÙŠÙ„ Ø´Ø±ÙƒØªÙ†Ø§ Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹ ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚.
            </div>
          </div>
          
  
          
          <div class="text-center mt-3">
            <a href="#" class="btn btn-outline-primary">
              <i class="bi bi-question-square"></i> Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  {% endblock %}
    
  {% block extra_js %}
  <!-- JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="{% static 'hozma/js/navbar.js' %}"></script>
  <script>

const clientId = JSON.parse(localStorage.getItem("session_data@user_id"));
    // Initialize FAQ collapse items
    document.addEventListener('DOMContentLoaded', function() {
      const faqHeaders = document.querySelectorAll('.faq-header');
      
      faqHeaders.forEach(header => {
        header.addEventListener('click', function() {
          const icon = this.querySelector('i');
          if (this.getAttribute('aria-expanded') === 'true') {
            icon.classList.remove('bi-chevron-up');
            icon.classList.add('bi-chevron-down');
          } else {
            icon.classList.remove('bi-chevron-down');
            icon.classList.add('bi-chevron-up');
          }
        });
      });
    });


    document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Disable submit button to prevent multiple submissions
    const submitBtn = e.target.querySelector('button[type="submit"]');
    submitBtn.disabled = true;
    submitBtn.innerHTML = '<i class="bi bi-arrow-repeat spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...';
    
    // Get form values
    const formData = {
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
      
        subject: document.getElementById('subject').value,
        message: document.getElementById('message').value
    };
    
    // Construct the WhatsApp message (Arabic format)
    const whatsappMessage = `
ğŸ“Œ *ØªÙ… Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ* ğŸ“Œ

*Ø§Ù„Ø§Ø³Ù…:* ${formData.name}
*Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:* ${formData.email}

*Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹:* ${formData.subject}

*Ø§Ù„Ø±Ø³Ø§Ù„Ø©:*
${formData.message}

ğŸ“© *Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù„ÙŠØªÙ… Ø§Ù„Ø±Ø¯* ğŸ“©

Ø¹Ø²ÙŠØ²Ù†Ø§ Ø§Ù„Ø¹Ù…ÙŠÙ„ ${formData.name}ØŒ

ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ø®ØµÙˆØµ "${formData.subject}" ÙˆØ³ÙŠÙ‚ÙˆÙ… ÙØ±ÙŠÙ‚Ù†Ø§ Ø§Ù„Ù…Ø®ØªØµ Ø¨Ø§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙƒ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ†.

Ù†Ø¹ØªØ² Ø¨Ø«Ù‚ØªÙƒ Ø¨Ù†Ø§ ÙˆÙ†Ø³Ø¹Ø¯ Ø¯Ø§Ø¦Ù…Ø§ Ø¨Ø®Ø¯Ù…ØªÙƒ.

Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø± Ø§Ù„ÙÙˆØ±ÙŠØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù…:
+218914262604

Ù…Ø¹ Ø®Ø§Ù„Øµ Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ØŒ
ÙØ±ÙŠÙ‚ Ù…Ø§Ø±ÙŠÙ†
    `;
    
    // Prepare data for API
    const apiData = {
        clientid: clientId, // Replace with actual client ID from session
        message: whatsappMessage
    };
    
    // Send to API
    fetch('/hozma/api/send-whatsapp-contact/', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': getCookie('csrftoken')
        },
        body: JSON.stringify(apiData)
    })
    .then(response => {
        // First check if the response is OK (status 200-299)
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        return response.json();
    })
    .then(data => {
        const responseDiv = document.getElementById('responseMessage');
        
        // Check the actual API response structure
        if (data.status === "sent") {
            responseDiv.innerHTML = `
                <div class="alert alert-success">
                    <i class="bi bi-check-circle-fill"></i>
                    Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ! ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ø¥Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨. Ø¥Ø°Ø§ ÙƒÙ†Øª Ù‚Ø¯ Ø£Ø¯Ø®Ù„Øª Ø±Ù‚Ù…Ùƒ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ ÙÙŠ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§ØªØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø°Ù„Ùƒ ÙÙŠ Ø§Ù„ØŒØ§ØªØ³Ø§Ø¨ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ. Ø´ÙƒØ±Ù‹Ø§ Ù„ØªØ¹Ø§Ù…Ù„Ùƒ Ù…Ø¹Ù†Ø§!
                </div>
            `;
            document.getElementById('contactForm').reset();
        } else {
            throw new Error(data.message || 'Unknown error occurred');
        }
        
        responseDiv.style.display = 'block';
        responseDiv.scrollIntoView({ behavior: 'smooth' });
    })
    .catch(error => {
        console.error('Error:', error);
        const responseDiv = document.getElementById('responseMessage');
        responseDiv.innerHTML = `
            <div class="alert alert-danger">
                <i class="bi bi-exclamation-triangle-fill"></i>
                Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©: ${error.message}
            </div>
        `;
        responseDiv.style.display = 'block';
        responseDiv.scrollIntoView({ behavior: 'smooth' });
    })
    .finally(() => {
        submitBtn.disabled = false;
        submitBtn.innerHTML = '<i class="bi bi-send-fill"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©';
    });
});

// Function to get CSRF token
function getCookie(name) {
    let cookieValue = null;
    if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            if (cookie.substring(0, name.length + 1) === (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}

// Add spinner animation
const style = document.createElement('style');
style.innerHTML = `
    .spin {
        animation: spin 1s linear infinite;
    }
    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
`;
document.head.appendChild(style);
  </script>
</body>
</html>
{% endblock %}